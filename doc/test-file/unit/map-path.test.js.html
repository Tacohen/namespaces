<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">unit/map-path.test.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="https://github.com/ziflex/namespaces.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/container.js~Container.html">Container</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/module.js~Module.html">Module</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/namespace.js~Namespace.html">Namespace</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/resolver.js~Resolver.html">Resolver</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/storage.js~Storage.html">Storage</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createPathMap">createPathMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-create">create</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-forEach">forEach</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isArray">isArray</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isFunction">isFunction</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isNull">isNull</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isNullOrUndefined">isNullOrUndefined</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isObject">isObject</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isString">isString</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isUndefined">isUndefined</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isValidName">isValidName</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-joinPath">joinPath</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-map">map</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseArgs">parseArgs</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-splitPath">splitPath</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">unit/map-path.test.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">/* eslint-disable no-unused-expressions, func-names  */

import { expect } from &apos;chai&apos;;
import map from &apos;../../src/map-path&apos;;
import {
    isFunction,
    isString
} from &apos;../../src/utils&apos;;

describe(&apos;map-path&apos;, function() {
    it(&apos;should map paths&apos;, () =&gt; {
        const result = map({
            consts: &apos;consts&apos;,
            services: {
                components: [
                    &apos;actions&apos;,
                    &apos;dispatcher&apos;,
                    { &apos;stores&apos;: [&apos;user&apos;, {&apos;users&apos;: [&apos;joe&apos;] }] }
                ],
                domain: &apos;domain&apos;,
                core: {
                    networking: &apos;networking&apos;,
                    database: &apos;database&apos;
                }
            }
        });

        expect(isFunction(result), &apos;&quot;result&quot; must be a function&apos;).to.be.true;
        expect(result(), &apos;&quot;result()&quot;&apos;).to.eql(&apos;&apos;);
        expect(result(&apos;foo&apos;), &apos;&quot;result(`foo`)&quot;&apos;).to.eql(&apos;foo&apos;);

        expect(isFunction(result.consts), &apos;&quot;result.consts&quot; must be a function&apos;).to.be.true;
        expect(result.consts(), &apos;&quot;result.consts()&quot;&apos;).to.eql(&apos;consts&apos;);
        expect(result.consts(&apos;foo&apos;), &apos;&quot;result.consts(`foo`)&quot;&apos;).to.eql(&apos;consts/foo&apos;);

        expect(isFunction(result.services), &apos;&quot;result.services&quot; must be a function&apos;).to.be.true;
        expect(result.services(), &apos;&quot;result.services()&quot;&apos;).to.eql(&apos;services&apos;);
        expect(result.services(&apos;foo&apos;), &apos;&quot;result.services(`foo`)&quot;&apos;).to.eql(&apos;services/foo&apos;);

        expect(isFunction(result.services.components), &apos;&quot;result.services.components&quot; must be a function&apos;).to.be.true;
        expect(result.services.components(), &apos;&quot;result.services.components()&quot;&apos;).to.eql(&apos;services/components&apos;);
        expect(result.services.components(&apos;foo&apos;), &apos;&quot;result.services.components(`foo`)&quot;&apos;).to.eql(&apos;services/components/foo&apos;);

        expect(isFunction(result.services.components.actions), &apos;&quot;result.services.components.actions&quot; must be a function&apos;).to.be.true;
        expect(result.services.components.actions(), &apos;&quot;result.services.components.actions()&quot;&apos;).to.eql(&apos;services/components/actions&apos;);
        expect(result.services.components.actions(&apos;foo&apos;), &apos;&quot;result.services.components.actions(`foo`)&quot;&apos;).to.eql(&apos;services/components/actions/foo&apos;);

        expect(isFunction(result.services.components.dispatcher), &apos;&quot;result.services.components.dispatcher&quot; must be a function&apos;).to.be.true;
        expect(result.services.components.dispatcher(), &apos;&quot;result.services.components.dispatcher()&quot;&apos;).to.eql(&apos;services/components/dispatcher&apos;);
        expect(result.services.components.dispatcher(&apos;foo&apos;), &apos;&quot;result.services.components.dispatcher(`foo`)&quot;&apos;).to.eql(&apos;services/components/dispatcher/foo&apos;);

        expect(isFunction(result.services.components.stores), &apos;&quot;result.services.components.stores&quot; must be a function&apos;).to.be.true;
        expect(result.services.components.stores(), &apos;&quot;result.services.components.stores()&quot;&apos;).to.eql(&apos;services/components/stores&apos;);
        expect(result.services.components.stores(&apos;foo&apos;), &apos;&quot;result.services.components.stores(`foo`)&quot;&apos;).to.eql(&apos;services/components/stores/foo&apos;);

        expect(isFunction(result.services.components.stores.user), &apos;&quot;result.services.components.stores.user&quot; must be a function&apos;).to.be.true;
        expect(result.services.components.stores.user(), &apos;&quot;result.services.components.stores.user()&quot;&apos;).to.eql(&apos;services/components/stores/user&apos;);
        expect(result.services.components.stores.user(&apos;foo&apos;), &apos;&quot;result.services.components.stores.user(`foo`)&quot;&apos;).to.eql(&apos;services/components/stores/user/foo&apos;);

        expect(isFunction(result.services.components.stores.users.joe), &apos;&quot;result.services.components.stores.users.joe&quot; must be a function&apos;).to.be.true;
        expect(result.services.components.stores.users.joe(), &apos;&quot;result.services.components.stores.users.joe()&quot;&apos;).to.eql(&apos;services/components/stores/users/joe&apos;);
        expect(result.services.components.stores.users.joe(&apos;foo&apos;), &apos;&quot;result.services.components.stores.users.joe(`foo`)&quot;&apos;).to.eql(&apos;services/components/stores/users/joe/foo&apos;);

        expect(isFunction(result.services.domain), &apos;&quot;result.services.domain&quot; must be a function&apos;).to.be.true;
        expect(result.services.domain(), &apos;&quot;result.services.domain()&quot;&apos;).to.eql(&apos;services/domain&apos;);
        expect(result.services.domain(&apos;foo&apos;), &apos;&quot;result.services.domain(`foo`)&quot;&apos;).to.eql(&apos;services/domain/foo&apos;);

        expect(isFunction(result.services.core)).to.be.true;
        expect(result.services.core()).to.eql(&apos;services/core&apos;);
        expect(result.services.core(&apos;foo&apos;)).to.eql(&apos;services/core/foo&apos;);

        expect(isFunction(result.services.core.networking)).to.be.true;
        expect(result.services.core.networking()).to.eql(&apos;services/core/networking&apos;);
        expect(result.services.core.networking(&apos;foo&apos;)).to.eql(&apos;services/core/networking/foo&apos;);

        expect(isFunction(result.services.core.database)).to.be.true;
        expect(result.services.core.database()).to.eql(&apos;services/core/database&apos;);
        expect(result.services.core.database(&apos;foo&apos;)).to.eql(&apos;services/core/database/foo&apos;);
    });

    it(&apos;should resolve array of paths&apos;, () =&gt; {
        const result = map({
            core: {
                infrastructure: [
                    &apos;item1&apos;,
                    &apos;item2&apos;
                ],
                domain: &apos;foo&apos;
            },
            system: [
                &apos;component1&apos;,
                &apos;component2&apos;
            ]
        });

        const paths = result.system([
            &apos;component1&apos;,
            &apos;component2&apos;
        ]);

        expect(isString(paths[0]), &apos;&quot;paths[0]&quot; must be a string&apos;).to.be.true;
        expect(paths[0], &apos;&quot;path[0]&quot;&apos;).to.eql(&apos;system/component1&apos;);

        expect(isString(paths[1]), &apos;&quot;paths[1]&quot; must be a string&apos;).to.be.true;
        expect(paths[1], &apos;&quot;path[1]&quot;&apos;).to.eql(&apos;system/component2&apos;);
    });
});

/* eslint-enable no-unused-expressions, func-names  */
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.5)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
